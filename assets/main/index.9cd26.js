window.__require=function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!c&&u)return u(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){return o(t[a][1][e]||e)},s,s.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({AsyncHelper:[function(e,t,n){"use strict";cc._RF.push(t,"848cbmCDNBD0az55ETwl3Gu","AsyncHelper");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncHelper=void 0;var i=function(){function e(){}return e.sleep=function(e){return new Promise(function(t){return setTimeout(t,1e3*e)})},e.pendingUntil=function(e,t){return r(this,void 0,Promise,function(){return o(this,function(n){switch(n.label){case 0:return[4,this.sleep(.01)];case 1:return n.sent(),e.call(t)?[2,Promise.resolve()]:[3,0];case 2:return[2]}})})},e.playAction=function(e,t){return r(this,void 0,Promise,function(){return o(this,function(n){switch(n.label){case 0:return e.runAction(t),[4,this.pendingUntil(function(){return t.isDone()})];case 1:return n.sent(),[2]}})})},e.playTween=function(e){return r(this,void 0,Promise,function(){var t;return o(this,function(){return t=!1,e.call(function(){t=!0}).start(),[2,this.pendingUntil(function(){return t})]})})},e}();n.AsyncHelper=i,cc._RF.pop()},{}],DataMap:[function(e,t,n){"use strict";cc._RF.push(t,"a23f5il0mFHKKtxjARNn4px","DataMap"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.dataMap=new Map}return e.prototype.getData=function(e){var t;return null==(t=this.dataMap.get(e))||""===t?null:JSON.parse(t)},e.prototype.setData=function(e,t){this.dataMap.set(e,JSON.stringify(t))},e.prototype.copyData=function(e,t,n){void 0===n&&(n=!1),this.dataMap.has(e)===n&&(this.dataMap[e]=t)},e.prototype.toString=function(){var e="";return this.dataMap.forEach(function(t,n){e+="["+n+":"+t+"], \n"}),e},e}();n.default=r,cc._RF.pop()},{}],DebugPanel:[function(e,t,n){"use strict";cc._RF.push(t,"353b9/pV6hB2oME08rF+GwE","DebugPanel");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prevPanelNode=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.switchPanel=function(e){this.prevPanelNode&&(this.prevPanelNode.active=!1),this.prevPanelNode=this.node,e.active=!0},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],DragonbonesHelper:[function(e,t,n){"use strict";cc._RF.push(t,"81bd9puDZxFDJ2YI5gPTjT7","DragonbonesHelper");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./ResourceHelper"),a=dragonBones.DragonBonesAsset,c=dragonBones.DragonBonesAtlasAsset,l=dragonBones.ArmatureDisplay,u=function(){function e(){}return e.setDragonBones=function(e,t){return r(this,void 0,Promise,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return e.name===t.armature?[2]:[4,i.ResourceHelper.load("art/dragonBones/"+t.folder+"/"+t.dragonBonesAsset,a)];case 1:return null==(n=o.sent())?(console.error("DragonBonesHelper.setDragonBones Error: cannot find DragonBonesAsset\n            "+t.folder+"/"+t.dragonBonesAsset+"}"),[2]):[4,i.ResourceHelper.load("art/dragonBones/"+t.folder+"/"+t.atlasAsset,c)];case 2:return null==(r=o.sent())?(console.error("DragonBonesHelper.setDragonBones Error: cannot find DragonBonesAtlasAsset\n            "+t.folder+"/"+t.atlasAsset+"}"),[2]):e.dragonAsset===n&&e.dragonAtlasAsset===r&&e.armatureName===t.armature?[2]:(e.armatureName="",e.dragonAtlasAsset=r,e.dragonAsset=n,e.armatureName=t.armature,[2])}})})},e.replaceSlotDisplay=function(e,t,n,r,o){var i=this.getSlot(e,r);null!=i?!1===dragonBones.CCFactory.getInstance().replaceSlotDisplay(t,n,r,o,i)&&console.error("DragonbonesHelper.replaceSlotDisplay() replace slot "+r+" for "+n+" fail"):console.error("DragonbonesHelper.getSlotDisplayIndex() error: get slot "+r+" fail")},e.replaceArmature=function(e,t){e.armatureName=t.name},e.playAnimation=function(e,t,n){void 0===n&&(n=0);var r=this.getArmatureData(e,e.armatureName);null!=r?null!=r.animation.find(function(e){return e.name===t})?e.playAnimation(t,n):console.error("DragonbonesHelper.playAnimation() error:\n            animation "+t+" missing in "+e.name):console.error("DragonbonesHelper.playAnimation() error: "+e.name+" missing\n            "+e.armatureName+" ArmatureObject")},e.setSlotDisplayIndex=function(e,t,n){var r=this.getSlot(e,t);null!=r?r.displayIndex=n:console.error("DragonbonesHelper.setSlotDisplayIndex() error: get slot "+t+" fail")},e.getSlotDisplayIndex=function(e,t){var n=this.getSlot(e,t);return null==n?(console.error("DragonbonesHelper.getSlotDisplayIndex() error: get slot "+t+" fail"),-1):n.displayIndex},e.getSlotDisplayList=function(e,t){var n=this.getSlot(e,t);return null==n?(console.error("DragonbonesHelper.getSlotDisplayList() error: get slot "+t+" fail"),[]):n._displayDatas.map(function(e){return e.name})},e.getArmatureData=function(e,t){if(null==e.dragonAsset)return console.error("DragonbonesHelper.getArmatureObject() error: armatureDisplay.dragonAsset is null!"),null;var n=JSON.parse(e.dragonAsset.dragonBonesJson);return n.armature.length<1?(console.error("DragonbonesHelper.getArmatureObject() error: armatureDisplay.dragonAsset "+e.name+" contain no armature data!"),null):n.armature.find(function(e){return e.name===t})},e.getDragonBonesName=function(e,t){return r(this,void 0,Promise,function(){var n;return o(this,function(r){switch(r.label){case 0:return e.dragonAtlasAsset.name===t.atlasAsset?[2,e.getArmatureKey()]:(null==this._changeArmatureDisplay&&((n=new cc.Node).active=!1,this._changeArmatureDisplay=n.addComponent(l)),[4,this.setDragonBones(this._changeArmatureDisplay,t)]);case 1:return r.sent(),[2,this._changeArmatureDisplay.getArmatureKey()]}})})},e.getSlot=function(e,t){if(null==e.armature())return null;var n=e.armature().getSlot(t);return null==n?(console.error("DragonbonesHelper.getSlot() error: slot "+t+" missing in armatureDisplay "+e.name),null):n},e._changeArmatureDisplay=null,e}();n.default=u,cc._RF.pop()},{"./ResourceHelper":"ResourceHelper"}],HTMLElementHelper:[function(e,t,n){"use strict";cc._RF.push(t,"4a831CHWnhPfY2JotAl0m9+","HTMLElementHelper");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return Object.defineProperty(e,"gameCanvas",{get:function(){return document.getElementsByClassName("contentWrap")[0]},enumerable:!1,configurable:!0}),e.openLocalFile=function(){return r(this,void 0,Promise,function(){var e;return o(this,function(){return(e=document.getElementById("file_input"))||((e=document.createElement("input")).setAttribute("id","file_input"),e.setAttribute("type","file"),e.style.display="none",this.gameCanvas.appendChild(e)),e.click(),[2,new Promise(function(t){e.onchange=function(){var n=e.files;if(n&&n.length>0){var r=n[0];t(r)}}})]})})},e.downloadJsonFile=function(e,t){void 0===e&&(e="[]"),void 0===t&&(t="download");var n=new Blob([e],{type:"application/json"}),r=window.URL.createObjectURL(n),o=document.getElementById("file_download");o||((o=document.createElement("a")).id="file_download",this.gameCanvas.appendChild(o)),o.setAttribute("href",r),o.setAttribute("download",t),o.click()},e}();n.default=i,cc._RF.pop()},{}],LevelController:[function(e,t,n){"use strict";cc._RF.push(t,"0fdb9AjZ5RFjYTxM7rvr4IZ","LevelController");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}l((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=cc._decorator.ccclass,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.saveSceneName=function(e){this.sceneName=e},t.prototype.getSceneName=function(){return this.sceneName},t.prototype.onPreLoadData=function(){return a(this,void 0,void 0,function(){return c(this,function(){return[2]})})},t.prototype.onActive=function(){return a(this,void 0,void 0,function(){return c(this,function(){return[2]})})},t.prototype.onDeactive=function(){return a(this,void 0,void 0,function(){return c(this,function(){return[2]})})},i([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],LevelManager:[function(e,t,n){"use strict";cc._RF.push(t,"9d571tGqvlCB5MJ/V172t1P","LevelManager");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}l((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../helper/AsyncHelper"),u=e("./LevelController"),s=cc._decorator.ccclass,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this},t.prototype.getLevelController=function(){return this.currentLevelcontroller},t.prototype.activeFirstLevel=function(e){return a(this,void 0,Promise,function(){var t;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.loadScene(e)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),console.error("activeFirstLevel failed, errorMsg: "+t),[3,3];case 3:return[2]}})})},t.prototype.switchLevel=function(e){return a(this,void 0,Promise,function(){var t,n;return c(this,function(r){switch(r.label){case 0:console.log("SwitchLevel: -> "+e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.loadScene(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),n="switchLevel failed, errorMsg: "+t,console.error(n),[3,4];case 4:return[2]}})})},t.prototype.unloadLevelController=function(){return a(this,void 0,Promise,function(){return c(this,function(e){switch(e.label){case 0:return null==this.currentLevelcontroller?[3,2]:(console.log("OnDeactive"+this.currentLevelcontroller.name),[4,this.currentLevelcontroller.onDeactive()]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.preloadScene=function(e,t){return void 0===t&&(t=5),a(this,void 0,Promise,function(){return c(this,function(){return[2,new Promise(function(n,r){console.log("preloadScene: "+e),cc.director.preloadScene(e,function(){},function(t){console.log("preloadScene "+e+" done!"),null!=t&&r("PreloadLevel error: "+t),n()}),l.AsyncHelper.sleep(t).then(function(){r("PreloadLevel "+e+" error, preload timeout")})})]})})},t.prototype.loadScene=function(e){return a(this,void 0,Promise,function(){return c(this,function(){return[2,new Promise(function(t,n){!1===cc.director.loadScene(e,function(e,r){null==e?t(r):n(e)})&&n("loadScene failed")})]})})},t.prototype.initLevelController=function(e){return a(this,void 0,Promise,function(){var t,n,r,o,i,a;return c(this,function(c){switch(c.label){case 0:for(t=cc.director.getScene(),n=t.children,r=null,o=0,i=n;o<i.length;o++)if(a=i[o],null==r){r=a.getComponent(u.default);break}if(null==r)throw new Error("there is no LevelController in scene name:"+e);return r.saveSceneName(e),this.currentLevelcontroller=r,console.log("OnPreLoadData "+this.currentLevelcontroller.name),[4,r.onPreLoadData()];case 1:return c.sent(),[2]}})})},t.prototype.activeLevelController=function(){return a(this,void 0,Promise,function(){return c(this,function(e){switch(e.label){case 0:return console.log("OnActive "+this.currentLevelcontroller.name),[4,this.currentLevelcontroller.onActive()];case 1:return e.sent(),[2]}})})},n=i([s],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../helper/AsyncHelper":"AsyncHelper","./LevelController":"LevelController"}],MathHelper:[function(e,t){"use strict";cc._RF.push(t,"9a882wiUaFJrYFgvU0APbQi","MathHelper"),Math.randomInt=function(){return Math.randomIntRange(0,Number.MAX_SAFE_INTEGER)},Math.randomIntRange=function(e,t){return e>t?(console.error("Math.randomIntRange error: min > max"),-1):(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e))},Math.randomRange=function(e,t){return Math.random()*(t-e)+e},Math.randomBool=function(e){return Math.random()>(void 0===e?.5:1-Math.max(0,e))},Math.clamp=function(e,t,n){return(e=e>n?n:e)<t?t:e},cc._RF.pop()},{}],NextStage:[function(e,t,n){"use strict";cc._RF.push(t,"af025xAaBlOR4msLp+HO78H","NextStage");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}l((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("../framework/manager/LevelManager"),u=cc._decorator,s=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nextStageName="newLevel",t}return o(t,e),t.prototype.start=function(){},t.prototype.loadNextStage=function(){return a(this,void 0,Promise,function(){return c(this,function(e){switch(e.label){case 0:return console.log("loadNextStage: "+this.nextStageName),[4,l.default.instance.activeFirstLevel(this.nextStageName)];case 1:return e.sent(),[2]}})})},i([f({tooltip:"\u4e0b\u4e00\u500b\u5834\u666f\u540d\u7a31"})],t.prototype,"nextStageName",void 0),i([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../framework/manager/LevelManager":"LevelManager"}],OpenLocalFileHelper:[function(e,t,n){"use strict";cc._RF.push(t,"4addaMP9dhAn5Lfhp4ljLEV","OpenLocalFileHelper");var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.OpenLocalFileHelper=void 0;var i=e("./AsyncHelper"),a=function(){function e(){}return e.openLocalFileToSpriteFrame=function(){return r(this,void 0,Promise,function(){var e,t,n,a=this;return o(this,function(c){switch(c.label){case 0:return t=!1,(n=document.getElementById("file_input"))||(console.log("xxxxxx createElement input"),(n=document.createElement("input")).id="file_input",n.setAttribute("id","file_input"),n.setAttribute("type","file"),n.setAttribute("class","fileToUpload"),n.style.opacity="0",n.style.position="absolute",n.style.left="-100px",n.style.top="-100px",document.body.appendChild(n)),n.onchange=function(){return r(a,void 0,void 0,function(){var r,i,a=this;return o(this,function(){return(r=n.files)&&0!==r.length?(i=r[0],this.readFile(i,function(n){a.base64ToSpriteFrame(n,function(n){e=n,t=!0});var r=n.search(",")+1;a.base64SpriteFrameCache=n.substr(r)}),[2]):(console.error("inputEl.files is null"),[2])})})},n.click(),[4,i.AsyncHelper.pendingUntil(function(){return t})];case 1:return c.sent(),[2,e]}})})},e.readFile=function(e,t){var n=new FileReader;n.onload=function(e){t&&(n.readyState===FileReader.DONE?t(n.result.toString()):(console.error("FileReader read error",e,n.result),t(null)))},n.readAsDataURL(e)},e.base64ToSpriteFrame=function(e,t){var n=new Image;n.onload=function(){var e=new cc.Texture2D;e.initWithElement(n),e.handleLoadedTexture();var r=new cc.SpriteFrame(e);t&&t(r)},n.onerror=function(e){console.error("------\u5408\u6210\u5831\u932f-----",e)},void 0!==e.startsWith&&e.startsWith("data:image")?n.src=e:n.src="data:image/png;base64,"+e},e.base64SpriteFrameCache="",e}();n.OpenLocalFileHelper=a,cc._RF.pop()},{"./AsyncHelper":"AsyncHelper"}],PlayerPrefHelper:[function(e,t){"use strict";cc._RF.push(t,"7975ahJE0tG8JMxgB4GEVcq","PlayerPrefHelper"),cc._RF.pop()},{}],ResourceHelper:[function(e,t){"use strict";cc._RF.push(t,"39e2fQI6GRIlbhex+hktK8k","ResourceHelper"),cc._RF.pop()},{}],ResultHelper:[function(e,t,n){"use strict";cc._RF.push(t,"326c8rMZHFAxplAisxaAfQB","ResultHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResultHelper=n.Result=void 0;var r=function(e,t){return void 0===t&&(t=null),this.isSuccess=!0,this.data=null,this.isSuccess=e,this.data=t,this};n.Result=r;var o=function(){function e(){}return e.success=function(e){return e instanceof r?e:new r(!0,e)},e.fail=function(){return this._failResult},e._failResult=new r(!1),e}();n.ResultHelper=o,cc._RF.pop()},{}],RichDebug:[function(e,t,n){"use strict";cc._RF.push(t,"85f16fmZntBwq9mScwTYr+S","RichDebug");var r,o=this;Object.defineProperty(n,"__esModule",{value:!0}),n.LogType=void 0,function(e){e[e.Log=0]="Log",e[e.Debug=1]="Debug",e[e.Warn=2]="Warn",e[e.Error=3]="Error"}(r=n.LogType||(n.LogType={}));var i=function(){function e(){}return Object.defineProperty(e,"warns",{get:function(){return this.debugInfo.warns},enumerable:!1,configurable:!0}),Object.defineProperty(e,"errors",{get:function(){return this.debugInfo.errors},enumerable:!1,configurable:!0}),Object.defineProperty(e,"size",{get:function(){return this.logs.length},enumerable:!1,configurable:!0}),e.getLog=function(e){if(!(e>=this.logs.length))return{logType:this.logs[e].logType,value:this.logs[e].value}},Object.defineProperty(e,"logJson",{get:function(){return JSON.stringify(this.logs)},enumerable:!1,configurable:!0}),e.pushLog=function(e){this.logs.push(e),cc.game.emit("add-debug-info",e),this.logs.length>1e3&&this.logs.shift()},e.log=function(e,t){switch(e){case r.Warn:this.debugInfo.warns++;break;case r.Error:this.debugInfo.errors++}t.unshift((new Date).toLocaleTimeString());var n={logType:e,value:t.join("   ")};this.pushLog(n)},e.logs=[],e.debugInfo={warns:0,errors:0},e}();if(n.default=i,"undefined"!=typeof console&&console){var a={log:console.log,warn:console.warn,debug:console.debug,error:console.error,info:console.info};console.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.log(r.Log,e),a.info.apply(o,Array.prototype.slice.call(e,0))},console.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.log(r.Log,e),a.log.apply(o,Array.prototype.slice.call(e,0))},console.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.log(r.Warn,e),a.warn.apply(o,e)},console.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.log(r.Debug,e),a.debug.apply(o,Array.prototype.slice.call(e,0))},console.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.log(r.Error,e),a.error.apply(o,Array.prototype.slice.call(e,0))}}cc._RF.pop()},{}],StringHelper:[function(e,t){"use strict";cc._RF.push(t,"f5fb0lVU/JP0owHbif8W69D","StringHelper"),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})}),String.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.format.apply(e,t)},String.isNullOrEmpty=function(e){return null==e||""===e},String.pad=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n},String.toDigits=function(e,t){return e.toLocaleString("en-US",{minimumIntegerDigits:t})},String.toK=function(e){return e<1e3?e.toString():e/1e3+"K"},cc._RF.pop()},{}],TableData:[function(e,t){"use strict";cc._RF.push(t,"17318OYKHxPZJhbLZ8ravhh","TableData"),cc._RF.pop()},{}],TimeHelper:[function(e,t,n){"use strict";cc._RF.push(t,"66482k7i2NCBa/t6k2vo/4z","TimeHelper"),Object.defineProperty(n,"__esModule",{value:!0}),Date.prototype.addDays=function(e,t){if(!e)return this;var n=!1===t?new Date(+this):this;return n.setDate(n.getDate()+e),n},Date.prototype.getEndOfMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0)},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},cc._RF.pop()},{}],UIHelper:[function(e,t,n){"use strict";cc._RF.push(t,"10ca7lCVgNAWoNvRmEl3o3M","UIHelper"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.toScreenPosition=function(e,t,n){return e.x-=t.x,e.y-=t.y,e.x*=n,e.y*=n,e},e.getChildMaxRect=function(e){var t=new cc.Rect;if(null==e)return console.error("calcChildCoverRange: targetNode is null"),t;for(var n=0,r=e.getComponentsInChildren(cc.Component);n<r.length;n++){var o=r[n],i=o.node.x-o.node.width/2;i<t.xMin&&(t.xMin=i);var a=o.node.x+o.node.width/2;a>t.xMax&&(t.xMax=a);var c=o.node.y+o.node.height/2;c>t.yMax&&(t.yMax=c);var l=o.node.y-o.node.height/2;l<t.yMin&&(t.yMin=l)}return t},e}();n.default=r,cc._RF.pop()},{}],switchPanel:[function(e,t,n){"use strict";cc._RF.push(t,"60eb3LPh7RLJLTIEzHO4UB9","switchPanel");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nextPanelNode=null,t.prevPanelNode=null,t}return o(t,e),t.prototype.onLoad=function(){null!=this.nextPanelNode||console.log("child is null: ")},t.prototype.start=function(){},t.prototype.switchPanel=function(){this.prevPanelNode&&(this.prevPanelNode.active=!1),this.prevPanelNode=this.node,this.nextPanelNode.active=!0},i([l({displayName:"\u89d2\u8272\u4ecb\u7d39",type:cc.Node})],t.prototype,"nextPanelNode",void 0),i([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{}]},{},["DebugPanel","NextStage","switchPanel","AsyncHelper","DataMap","DragonbonesHelper","HTMLElementHelper","MathHelper","OpenLocalFileHelper","PlayerPrefHelper","ResourceHelper","ResultHelper","RichDebug","StringHelper","TableData","TimeHelper","UIHelper","LevelController","LevelManager"]);